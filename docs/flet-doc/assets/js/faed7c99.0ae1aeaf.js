"use strict";(self.webpackChunkflet_dev=self.webpackChunkflet_dev||[]).push([[59271],{81472:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>i});var s=n(74848),r=n(28453);const o={slug:"canvas",title:"Canvas",author:"Feodor Fitsner",author_title:"Flet founder and developer",author_url:"https://github.com/FeodorFitsner",author_image_url:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4",tags:["releases"]},a=void 0,l={permalink:"/docs/flet-doc/blog/canvas",editUrl:"https://github.com/flet-dev/website/edit/main/blog/2023-04-26-canvas.md",source:"@site/blog/2023-04-26-canvas.md",title:"Canvas",description:"Unleash your inner artist \ud83e\uddd1\u200d\ud83c\udfa8 and boost your Flet creativity with brand-new Canvas control just released in Flet 0.6.0!",date:"2023-04-26T00:00:00.000Z",tags:[{inline:!0,label:"releases",permalink:"/docs/flet-doc/blog/tags/releases"}],readingTime:2.125,hasTruncateMarker:!1,authors:[{name:"Feodor Fitsner",title:"Flet founder and developer",url:"https://github.com/FeodorFitsner",imageURL:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4"}],frontMatter:{slug:"canvas",title:"Canvas",author:"Feodor Fitsner",author_title:"Flet founder and developer",author_url:"https://github.com/FeodorFitsner",author_image_url:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4",tags:["releases"]},unlisted:!1,prevItem:{title:"Scrolling controls and Theming",permalink:"/docs/flet-doc/blog/scrolling-controls-and-theming"},nextItem:{title:"Flet Charts",permalink:"/docs/flet-doc/blog/flet-charts"}},c={authorsImageUrls:[void 0]},i=[{value:"Other changes",id:"other-changes",level:2},{value:"Rich text support",id:"rich-text-support",level:3},{value:"<code>url</code> property for buttons",id:"url-property-for-buttons",level:3},{value:"Auto-follow links in <code>Markdown</code>",id:"auto-follow-links-in-markdown",level:3},{value:"Better web support",id:"better-web-support",level:3}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Unleash your inner artist \ud83e\uddd1\u200d\ud83c\udfa8 and boost your Flet creativity with brand-new ",(0,s.jsx)(t.a,{href:"/docs/controls/canvas",children:"Canvas"})," control just released in ",(0,s.jsx)(t.a,{href:"https://pypi.org/project/flet/",children:"Flet 0.6.0"}),"!"]}),"\n",(0,s.jsxs)(t.p,{children:['Canvas enables you to draw arbitrary graphics using a set of primitives, or "shapes", such as line, circle, arc, path and text. I bet you can even implement your own version of ',(0,s.jsx)(t.a,{href:"/blog/flet-charts",children:"charts"})," using Canvas control!"]}),"\n",(0,s.jsxs)(t.p,{children:["Combine Canvas with ",(0,s.jsx)(t.a,{href:"/docs/controls/gesturedetector",children:"GestureDetector"})," and you get a free-hand drawing app - Flet Brush \ud83d\ude00!"]}),"\n",(0,s.jsx)("img",{src:"/img/docs/controls/canvas/canvas-flet-brush.gif",className:"screenshot-70 screenshot-rounded"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/flet-dev/examples/blob/main/python/controls/canvas/canvas-flet-brush.py",children:"Example source"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"Canvas"})," control is located in ",(0,s.jsx)(t.code,{children:"flet.canvas"})," package. You need another import to use it:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"import flet.canvas as cv\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here's a simple program drawing a smiley face with ",(0,s.jsx)(t.a,{href:"/docs/controls/canvas#circle-shape-properties",children:(0,s.jsx)(t.code,{children:"Circle"})})," and ",(0,s.jsx)(t.a,{href:"/docs/controls/canvas#arc-shape-properties",children:(0,s.jsx)(t.code,{children:"Arc"})})," shapes using filled and stroke ",(0,s.jsx)(t.a,{href:"/docs/reference/types/paint",children:(0,s.jsx)(t.code,{children:"Paint"})}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'import math\nimport flet as ft\nimport flet.canvas as cv\n\ndef main(page: ft.Page):\n    stroke_paint = paint = ft.Paint(stroke_width=2, style=ft.PaintingStyle.STROKE)\n    fill_paint = paint = ft.Paint(style=ft.PaintingStyle.FILL)\n    cp = cv.Canvas(\n        [\n            cv.Circle(100, 100, 50, stroke_paint),\n            cv.Circle(80, 90, 10, stroke_paint),\n            cv.Circle(84, 87, 5, fill_paint),\n            cv.Circle(120, 90, 10, stroke_paint),\n            cv.Circle(124, 87, 5, fill_paint),\n            cv.Arc(70, 95, 60, 40, 0, math.pi, paint=stroke_paint),\n        ],\n        width=float("inf"),\n        expand=True,\n    )\n\n    page.add(cp)\n\nft.app(main)\n'})}),"\n",(0,s.jsx)("img",{src:"/img/docs/controls/canvas/canvas-face.png",className:"screenshot-30"}),"\n",(0,s.jsxs)(t.p,{children:["Read more about Canvas in ",(0,s.jsx)(t.a,{href:"/docs/controls/canvas",children:"docs"})," and explore ",(0,s.jsx)(t.a,{href:"https://github.com/flet-dev/examples/tree/main/python/controls/canvas",children:"Canvas examples"}),"!"]}),"\n",(0,s.jsx)(t.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,s.jsx)(t.h3,{id:"rich-text-support",children:"Rich text support"}),"\n",(0,s.jsxs)(t.p,{children:["While working on ",(0,s.jsx)(t.a,{href:"/docs/controls/canvas#drawing-text",children:"drawing text on Canvas"}),", as a bonus to this release, we implemented a new ",(0,s.jsx)(t.a,{href:"/docs/reference/types/textspan",children:(0,s.jsx)(t.code,{children:"TextSpan"})})," control which can now be used with ",(0,s.jsx)(t.a,{href:"/docs/controls/text#spans",children:(0,s.jsx)(t.code,{children:"Text.spans"})})," to output rich text."]}),"\n",(0,s.jsx)("img",{src:"/img/docs/controls/text/richtext-borders-stroke.png",className:"screenshot-60"}),"\n",(0,s.jsxs)(t.p,{children:["Check rich text examples: ",(0,s.jsx)(t.a,{href:"/docs/controls/text#rich-text-basics",children:"one"}),", ",(0,s.jsx)(t.a,{href:"/docs/controls/text#rich-text-with-borders-and-stroke",children:"two"})," and ",(0,s.jsx)(t.a,{href:"/docs/controls/text#rich-text-with-gradient",children:"three"}),"."]}),"\n",(0,s.jsxs)(t.h3,{id:"url-property-for-buttons",children:[(0,s.jsx)(t.code,{children:"url"})," property for buttons"]}),"\n",(0,s.jsxs)(t.p,{children:["If you need to open a URL by clicking on a button or any other control with ",(0,s.jsx)(t.code,{children:"on_click"})," event you can just provide that URL in ",(0,s.jsx)(t.code,{children:"url"})," instead of doing that in the code with ",(0,s.jsx)(t.a,{href:"/docs/controls/page#launch_urlurl",children:(0,s.jsx)(t.code,{children:"page.launch_url()"})})," method."]}),"\n",(0,s.jsx)(t.p,{children:"Instead of that:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'ft.ElevatedButton("Go to Google", on_click=lambda e: e.page.launch_url("https://google.com"))\n'})}),"\n",(0,s.jsx)(t.p,{children:"you can just do this:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'ft.ElevatedButton("Go to Google", url="https://google.com")\n'})}),"\n",(0,s.jsxs)(t.p,{children:["A new ",(0,s.jsx)(t.code,{children:"url"})," property also solves ",(0,s.jsx)(t.a,{href:"https://github.com/flet-dev/flet/issues/1105",children:"blocked window on Safari"})," issue."]}),"\n",(0,s.jsxs)(t.h3,{id:"auto-follow-links-in-markdown",children:["Auto-follow links in ",(0,s.jsx)(t.code,{children:"Markdown"})]}),"\n",(0,s.jsxs)(t.p,{children:["As a continuation of ",(0,s.jsx)(t.code,{children:"url"})," property ",(0,s.jsx)(t.code,{children:"Markdown"})," control can now be enabled to auto-follow URLs in the document:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'import flet as ft\n\nmd = """\n[Go to Google](https://www.google.com)\n"""\n\ndef main(page: ft.Page):\n    page.add(\n        ft.Markdown(\n            md,\n            extension_set=ft.MarkdownExtensionSet.GITHUB_WEB,\n            auto_follow_links=True,\n        )\n    )\n\nft.app(main)\n'})}),"\n",(0,s.jsx)(t.h3,{id:"better-web-support",children:"Better web support"}),"\n",(0,s.jsxs)(t.p,{children:["In this release we also did some improvements to web support like ",(0,s.jsxs)(t.a,{href:"https://github.com/flet-dev/flet/pull/1302",children:["capturing user info in ",(0,s.jsx)(t.code,{children:"page.client_id"})," and ",(0,s.jsx)(t.code,{children:"page.client_user_agent"})]})," as well as fixing nasty ",(0,s.jsx)(t.a,{href:"https://github.com/flet-dev/flet/pull/1333",children:"#1333"})," and ",(0,s.jsx)(t.a,{href:"https://github.com/flet-dev/flet/pull/1289",children:"#1289"})," bugs related to routing."]}),"\n",(0,s.jsx)(t.p,{children:"That's all for today!"}),"\n",(0,s.jsxs)(t.p,{children:["Upgrade Flet module to the latest version (",(0,s.jsx)(t.code,{children:"pip install flet --upgrade"}),"), give canvas and rich text a try and ",(0,s.jsx)(t.a,{href:"https://discord.gg/dzWXP8SHG8",children:"let us know"})," what you think!"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var s=n(96540);const r={},o=s.createContext(r);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);