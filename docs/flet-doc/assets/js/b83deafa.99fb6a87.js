"use strict";(self.webpackChunkflet_dev=self.webpackChunkflet_dev||[]).push([[28965],{45609:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>a});var t=o(74848),s=o(28453);const l={slug:"scrolling-controls-and-theming",title:"Scrolling controls and Theming",author:"Feodor Fitsner",author_title:"Flet founder and developer",author_url:"https://github.com/FeodorFitsner",author_image_url:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4",tags:["releases"]},r=void 0,i={permalink:"/docs/flet-doc/blog/scrolling-controls-and-theming",editUrl:"https://github.com/flet-dev/website/edit/main/blog/2023-05-12-theming-and-scrollables.md",source:"@site/blog/2023-05-12-theming-and-scrollables.md",title:"Scrolling controls and Theming",description:"Flet 0.7.1 enables developers changing scroll position and receiving scroll notifications from Page, View, Column, Row, ListView and GridView controls.",date:"2023-05-12T00:00:00.000Z",tags:[{inline:!0,label:"releases",permalink:"/docs/flet-doc/blog/tags/releases"}],readingTime:4.28,hasTruncateMarker:!1,authors:[{name:"Feodor Fitsner",title:"Flet founder and developer",url:"https://github.com/FeodorFitsner",imageURL:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4"}],frontMatter:{slug:"scrolling-controls-and-theming",title:"Scrolling controls and Theming",author:"Feodor Fitsner",author_title:"Flet founder and developer",author_url:"https://github.com/FeodorFitsner",author_image_url:"https://avatars0.githubusercontent.com/u/5041459?s=400&v=4",tags:["releases"]},unlisted:!1,prevItem:{title:"Flet for iOS",permalink:"/docs/flet-doc/blog/flet-for-ios"},nextItem:{title:"Canvas",permalink:"/docs/flet-doc/blog/canvas"}},c={authorsImageUrls:[void 0]},a=[{value:"Controlling scroll position",id:"controlling-scroll-position",level:2},{value:"Receiving scroll notifications",id:"receiving-scroll-notifications",level:2},{value:"Color scheme customization",id:"color-scheme-customization",level:2},{value:"Nested themes",id:"nested-themes",level:2},{value:"Scrollbar theme",id:"scrollbar-theme",level:2},{value:"Text theming",id:"text-theming",level:2},{value:"Tabs theming",id:"tabs-theming",level:2},{value:"Other changes",id:"other-changes",level:2},{value:"Flutter 3.10",id:"flutter-310",level:3},{value:"Color emoji in web apps",id:"color-emoji-in-web-apps",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Flet 0.7.1 enables developers ",(0,t.jsx)(n.a,{href:"#controlling-scroll-position",children:"changing scroll position"})," and ",(0,t.jsx)(n.a,{href:"#receiving-scroll-notifications",children:"receiving scroll notifications"})," from ",(0,t.jsx)(n.code,{children:"Page"}),", ",(0,t.jsx)(n.code,{children:"View"}),", ",(0,t.jsx)(n.code,{children:"Column"}),", ",(0,t.jsx)(n.code,{children:"Row"}),", ",(0,t.jsx)(n.code,{children:"ListView"})," and ",(0,t.jsx)(n.code,{children:"GridView"})," controls."]}),"\n",(0,t.jsx)(n.p,{children:"The release also introduces theming improvements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#color-scheme-customization",children:"Color scheme customization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#nested-themes",children:"Nested themes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#text-theming",children:"Text theming"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#scrollbar-theme",children:"Scrollbar theming"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#tabs-theming",children:"Tabs theming"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"controlling-scroll-position",children:"Controlling scroll position"}),"\n",(0,t.jsxs)(n.p,{children:["Scrollable controls (",(0,t.jsx)(n.code,{children:"Page"}),", ",(0,t.jsx)(n.code,{children:"View"}),", ",(0,t.jsx)(n.code,{children:"Column"}),", ",(0,t.jsx)(n.code,{children:"Row"}),", ",(0,t.jsx)(n.code,{children:"ListView"})," and ",(0,t.jsx)(n.code,{children:"GridView"}),") introduce ",(0,t.jsx)(n.code,{children:"scroll_to()"})," method to change their scroll position to either absolute ",(0,t.jsx)(n.code,{children:"offset"}),", relative ",(0,t.jsx)(n.code,{children:"delta"})," or jump to the control with specified ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Moving to a ",(0,t.jsx)(n.code,{children:"key"})," is particularly exciting as it allows simulating the navigation between page bookmarks, kind of HTML hrefs with ",(0,t.jsx)(n.code,{children:"#"}),":"]}),"\n",(0,t.jsx)("img",{src:"/img/docs/controls/column/column-scroll-to-key.gif",className:"screenshot-70 screenshot-rounded"}),"\n",(0,t.jsxs)(n.p,{children:["Check the ",(0,t.jsx)(n.a,{href:"https://github.com/flet-dev/examples/blob/main/python/controls/column/column-scroll-to-key.py",children:"source code"})," of the example above."]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/docs/controls/column#scroll_tooffset-delta-key-duration-curve",children:(0,t.jsx)(n.code,{children:"Column.scroll_to"})})," for more details about controlling scroll position."]}),"\n",(0,t.jsx)(n.h2,{id:"receiving-scroll-notifications",children:"Receiving scroll notifications"}),"\n",(0,t.jsxs)(n.p,{children:["All scrollable controls now provide ",(0,t.jsx)(n.code,{children:"on_scroll"})," event handler which fires when a scroll position is changed. From event object properties you can determine whether scroll operation has started, finished, changed direction or scroll position went behind scrolling extent (overscroll). You can also get updates of the current scroll position as well as dimensions of the scroll area, for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import flet as ft\n\ndef main(page: ft.Page):\n    def on_column_scroll(e: ft.OnScrollEvent):\n        print(\n            f"Type: {e.event_type}, pixels: {e.pixels}, min_scroll_extent: {e.min_scroll_extent}, max_scroll_extent: {e.max_scroll_extent}"\n        )\n\n    cl = ft.Column(\n        spacing=10,\n        height=200,\n        width=200,\n        scroll=ft.ScrollMode.ALWAYS,\n        on_scroll=on_column_scroll,\n    )\n    for i in range(0, 50):\n        cl.controls.append(ft.Text(f"Text line {i}", key=str(i)))\n\n    page.add(\n        ft.Container(cl, border=ft.border.all(1)),\n    )\n\nft.app(main)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/docs/controls/column#on_scroll",children:(0,t.jsx)(n.code,{children:"Column.on_scroll"})})," for more details about scroll notification."]}),"\n",(0,t.jsxs)(n.p,{children:["Check ",(0,t.jsx)(n.a,{href:"https://github.com/flet-dev/examples/blob/main/python/controls/column/column-infinite-list.py",children:"infinite scroll example"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"color-scheme-customization",children:"Color scheme customization"}),"\n",(0,t.jsxs)(n.p,{children:["Until today the only way to control color scheme for your application was specifying ",(0,t.jsx)(n.code,{children:"color_scheme_seed"})," when creating a new ",(0,t.jsx)(n.code,{children:"ft.Theme"})," object."]}),"\n",(0,t.jsxs)(n.p,{children:["This release enables you to fine tune all 30 colors based on the ",(0,t.jsx)(n.a,{href:"https://m3.material.io/styles/color/the-color-system/color-roles",children:"Material spec"})," and used by various Flet controls."]}),"\n",(0,t.jsx)("img",{src:"/img/blog/theme-scrolling/material-theme-builder.png",className:"screenshot-70 screenshot-rounded"}),"\n",(0,t.jsxs)(n.p,{children:["You can even use ",(0,t.jsx)(n.a,{href:"https://m3.material.io/theme-builder#/dynamic",children:"Material Theme Builder"})," and apply exported color palette to your app, for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"page.theme = ft.Theme(\n    color_scheme=ft.ColorScheme(\n        primary=ft.Colors.GREEN,\n        primary_container=ft.Colors.GREEN_200\n        # ...\n    ),\n)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsxs)(n.a,{href:"/docs/reference/types/colorscheme",children:[(0,t.jsx)(n.code,{children:"ColorScheme"})," class"]})," for more details."]}),"\n",(0,t.jsx)(n.h2,{id:"nested-themes",children:"Nested themes"}),"\n",(0,t.jsx)(n.p,{children:"Another awesome feature of this release is nested themes!"}),"\n",(0,t.jsx)(n.p,{children:"You can have a part of your app to use a different theme or override some theme styles for specific controls."}),"\n",(0,t.jsxs)(n.p,{children:["Remember ",(0,t.jsx)(n.code,{children:"page"})," object having ",(0,t.jsx)(n.code,{children:"theme"})," and ",(0,t.jsx)(n.code,{children:"theme_mode"})," properties? Now ",(0,t.jsx)(n.code,{children:"Container"})," has ",(0,t.jsx)(n.code,{children:"theme"})," and ",(0,t.jsx)(n.code,{children:"theme_mode"})," properties too!"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Container.theme"})," accepts the same ",(0,t.jsx)(n.code,{children:"ft.Theme"})," object as a page. Specifying ",(0,t.jsx)(n.code,{children:"theme_mode"})," in the container means you don't want to inherit parent theme, but want a completely new, unique scheme for all controls inside the container. However, if the container does not have ",(0,t.jsx)(n.code,{children:"theme_mode"})," property set then the styles from its ",(0,t.jsx)(n.code,{children:"theme"})," property will override the ones from the parent, inherited theme:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import flet as ft\n\ndef main(page: ft.Page):\n    # Yellow page theme with SYSTEM (default) mode\n    page.theme = ft.Theme(\n        color_scheme_seed=ft.Colors.YELLOW,\n    )\n\n    page.add(\n        # Page theme\n        ft.Container(\n            content=ft.ElevatedButton("Page theme button"),\n            bgcolor=ft.Colors.SURFACE_VARIANT,\n            padding=20,\n            width=300,\n        ),\n\n        # Inherited theme with primary color overridden\n        ft.Container(\n            theme=ft.Theme(color_scheme=ft.ColorScheme(primary=ft.Colors.PINK)),\n            content=ft.ElevatedButton("Inherited theme button"),\n            bgcolor=ft.Colors.SURFACE_VARIANT,\n            padding=20,\n            width=300,\n        ),\n\n        # Unique always DARK theme\n        ft.Container(\n            theme=ft.Theme(color_scheme_seed=ft.Colors.INDIGO),\n            theme_mode=ft.ThemeMode.DARK,\n            content=ft.ElevatedButton("Unique theme button"),\n            bgcolor=ft.Colors.SURFACE_VARIANT,\n            padding=20,\n            width=300,\n        ),\n    )\n\nft.app(main)\n'})}),"\n",(0,t.jsx)("img",{src:"/img/blog/theme-scrolling/nested-themes.png",className:"screenshot-60"}),"\n",(0,t.jsx)(n.h2,{id:"scrollbar-theme",children:"Scrollbar theme"}),"\n",(0,t.jsxs)(n.p,{children:["You can now customize the look and fill of scrollbars in your application (or a particular scroillbar with ",(0,t.jsx)(n.a,{href:"#nested-themes",children:"nested themes"}),")."]}),"\n",(0,t.jsxs)(n.p,{children:["It could be done via ",(0,t.jsx)(n.a,{href:"/docs/reference/types/scrollbartheme",children:(0,t.jsx)(n.code,{children:"page.theme.scrollbar_theme"})})," property, for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"page.theme = ft.Theme(\n    scrollbar_theme=ft.ScrollbarTheme(\n        track_color={\n            ft.MaterialState.HOVERED: ft.Colors.AMBER,\n            ft.MaterialState.DEFAULT: ft.Colors.TRANSPARENT,\n        },\n        track_visibility=True,\n        track_border_color=ft.Colors.BLUE,\n        thumb_visibility=True,\n        thumb_color={\n            ft.MaterialState.HOVERED: ft.Colors.RED,\n            ft.MaterialState.DEFAULT: ft.Colors.GREY_300,\n        },\n        thickness=30,\n        radius=15,\n        main_axis_margin=5,\n        cross_axis_margin=10,\n    )\n)\n"})}),"\n",(0,t.jsx)("img",{src:"/img/docs/controls/column/column-scroll-to.png",className:"screenshot-60"}),"\n",(0,t.jsx)(n.h2,{id:"text-theming",children:"Text theming"}),"\n",(0,t.jsxs)(n.p,{children:["Material 3 design defines ",(0,t.jsx)(n.a,{href:"/docs/controls/text#pre-defined-theme-text-styles",children:"5 groups of text styles with 3 sizes in each group"}),': "Display", "Headline", "Title", "Label" and "Body" which are used across Flet controls. You can now customize each of those styles with ',(0,t.jsx)(n.code,{children:"page.theme.text_theme"}),", for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import flet as ft\n\ndef main(page: ft.Page):\n    page.theme = ft.Theme(\n        text_theme=ft.TextTheme(body_medium=ft.TextStyle(color=ft.Colors.GREEN))\n    )\n\n    page.add(ft.Text("Hello, green world!"))\n\nft.app(main)\n'})}),"\n",(0,t.jsx)("img",{src:"/img/blog/theme-scrolling/text-theme.png",className:"screenshot-50"}),"\n",(0,t.jsxs)(n.p,{children:["Apparently, ",(0,t.jsx)(n.code,{children:"Body Medium"})," is used by ",(0,t.jsx)(n.code,{children:"Text"})," control as a default style."]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsxs)(n.a,{href:"/docs/reference/types/texttheme",children:[(0,t.jsx)(n.code,{children:"TextTheme"})," class"]})," for more details."]}),"\n",(0,t.jsx)(n.h2,{id:"tabs-theming",children:"Tabs theming"}),"\n",(0,t.jsxs)(n.p,{children:["You can now control the look and feel of ",(0,t.jsx)(n.code,{children:"Tabs"})," control. In this release ",(0,t.jsx)(n.code,{children:"Tabs"})," adds a bunch of new properties and there is a new ",(0,t.jsx)(n.a,{href:"/docs/reference/types/tabstheme",children:(0,t.jsx)(n.code,{children:"page.theme.tabs_theme"})})," property to style all tabs in your app:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"page.theme = ft.Theme(\n    tabs_theme=ft.TabsTheme(\n        divider_color=ft.Colors.BLUE,\n        indicator_color=ft.Colors.RED,\n        indicator_tab_size=True,\n        label_color=ft.Colors.GREEN,\n        unselected_label_color=ft.Colors.AMBER,\n        overlay_color={\n            ft.MaterialState.FOCUSED: ft.Colors.with_opacity(0.2, ft.Colors.GREEN),\n            ft.MaterialState.DEFAULT: ft.Colors.with_opacity(0.2, ft.Colors.PINK),\n        },\n    )\n)\n"})}),"\n",(0,t.jsx)("img",{src:"/img/blog/theme-scrolling/tabs-theme.png",className:"screenshot-60"}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsxs)(n.a,{href:"/docs/reference/types/tabstheme",children:[(0,t.jsx)(n.code,{children:"TabsTheme"})," class"]})," for more details."]}),"\n",(0,t.jsx)(n.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,t.jsx)(n.h3,{id:"flutter-310",children:"Flutter 3.10"}),"\n",(0,t.jsxs)(n.p,{children:["This Flet release is based on Flutter 3.10 which ",(0,t.jsx)(n.a,{href:"https://medium.com/flutter/whats-new-in-flutter-3-10-b21db2c38c73",children:"brings new features, performance and size optimizations"}),". As a result, most of Flet dependencies bumped their versions too, so if you notice any issues please let us know."]}),"\n",(0,t.jsx)(n.h3,{id:"color-emoji-in-web-apps",children:"Color emoji in web apps"}),"\n",(0,t.jsxs)(n.p,{children:['Color emoji support in web apps are back! In Flutter 3.7 color emoji were disabled in "CanvasKit" renderer (default in Flet) because of their font size (8 MB!) and returned back as an opt-in in Flutter 3.10. You can enable color emoji in server-driven app with ',(0,t.jsx)(n.code,{children:"use_color_emoji"})," argument:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"ft.app(main, use_color_emoji=True)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["and ",(0,t.jsxs)(n.a,{href:"/docs/publish/web/static-website#color-emojis",children:["use ",(0,t.jsx)(n.code,{children:"--use-color-emoji"})," switch"]})," when publishing app as a static side."]}),"\n",(0,t.jsx)(n.p,{children:"That's all for today!"}),"\n",(0,t.jsxs)(n.p,{children:["Upgrade Flet module to the latest version (",(0,t.jsx)(n.code,{children:"pip install flet --upgrade"}),") and ",(0,t.jsx)(n.a,{href:"https://discord.gg/dzWXP8SHG8",children:"let us know"})," what you think!"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>i});var t=o(96540);const s={},l=t.createContext(s);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);